# テンプレート作成ウィザード

## 画面概要
営業メッセージのテンプレートを4ステップのウィザード形式で作成する画面。テンプレート基本情報、メッセージ戦略、実行設定、KPI設定の順で入力を進めます。

## 画面レイアウト

### ダイアログ構造
```
+--------------------------------------------------+
|                    ヘッダー                        |
| テンプレートの作成                      [×] 閉じる  |
+--------------------------------------------------+
|                                                  |
| [1]----------[2]----------[3]----------[4]       |
| テンプレート   メッセージ    実行設定     KPI設定   |
| 基本情報      戦略                               |
|                                                  |
+--------------------------------------------------+
```

### ステップ1: テンプレート基本情報
```
+--------------------------------------------------+
|                                                  |
| 基本情報                                         |
|                                                  |
| テンプレート名*                                  |
| +----------------------------------------------+ |
| |                                              | |
| +----------------------------------------------+ |
|                                                  |
| カテゴリー*                                      |
| +----------------------------------------------+ |
| | 新規開拓                                   ▼  | |
| +----------------------------------------------+ |
|                                                  |
| 説明                                            |
| +----------------------------------------------+ |
| |                                              | |
| |                                              | |
| +----------------------------------------------+ |
|                                                  |
| ターゲット業界                                   |
| +----------------------------------------------+ |
| |                                              | |
| +----------------------------------------------+ |
|                                                  |
| タグ                                            |
| +----------------------------------------------+ |
| |                                              | |
| +----------------------------------------------+ |
|                                                  |
+--------------------------------------------------+
|                                                  |
| [戻る]                        [キャンセル] [次へ] |
+--------------------------------------------------+
```

### ステップ2: メッセージ戦略
```
+--------------------------------------------------+
|                                                  |
| メッセージ戦略                                    |
|                                                  |
| 作成モード                                       |
| +----------------------------------------------+ |
| | AI自動生成                                 ▼  | |
| +----------------------------------------------+ |
|                                                  |
| アプローチ戦略                                   |
| +----------------------------------------------+ |
| | ベネフィット訴求                           ▼  | |
| +----------------------------------------------+ |
|                                                  |
| トーン設定                                       |
| +----------------------------------------------+ |
| | プロフェッショナル                         ▼  | |
| +----------------------------------------------+ |
|                                                  |
| 最大文字数                                       |
| +----------------------------------------------+ |
| | 400                                          | |
| +----------------------------------------------+ |
|                                                  |
| 絵文字を使用する                                 |
| +----------------------------------------------+ |
| | □                                           | |
| +----------------------------------------------+ |
|                                                  |
+--------------------------------------------------+
|                                                  |
| [戻る]                        [キャンセル] [次へ] |
+--------------------------------------------------+
```

### ステップ3: 実行設定
```
+--------------------------------------------------+
|                                                  |
| 実行設定                                         |
|                                                  |
| 実行優先度                                       |
| +----------------------------------------------+ |
| | バランス重視                               ▼  | |
| +----------------------------------------------+ |
|                                                  |
| 送信方法の優先度                                 |
| +----------------------------------------------+ |
| | □ DM優先                                     | |
| | 　DMでの送信を優先的に試み、失敗した場合は     | |
| | 　フォーム送信にフォールバックします           | |
| |                                              | |
| | □ フォーム優先                               | |
| | 　フォーム送信を優先的に試み、失敗した場合は   | |
| | 　DMでの送信にフォールバックします            | |
| +----------------------------------------------+ |
|                                                  |
+--------------------------------------------------+
|                                                  |
| [戻る]                        [キャンセル] [次へ] |
+--------------------------------------------------+
```

### ステップ4: KPI設定
```
+--------------------------------------------------+
|                                                  |
| KPI設定                                          |
|                                                  |
| 評価指標                                         |
| +----------------------------------------------+ |
| |                                              | |
| +----------------------------------------------+ |
|                                                  |
| 評価期間                                         |
| +----------------------------------------------+ |
| | 30日                                         | |
| +----------------------------------------------+ |
|                                                  |
+--------------------------------------------------+
|                                                  |
| [戻る]                    [キャンセル] [作成する] |
+--------------------------------------------------+
```

## データモデル

### テンプレートデータ
```typescript
interface TemplateData {
  basicInfo: {
    name: string;
    description: string;
    category: Category;
    tags: string[];
    target_industry: string;
  };
  messageStrategy: {
    mode: 'ai_auto';
    strategy: 'benefit-first';
    toneOfVoice: 'professional';
    maxLength: number;
    useEmoji: boolean;
  };
  executionSettings: {
    execution_priority: 'balanced';
    preferred_method: 'form' | 'dm';
  };
  kpiSettings: {
    metrics: any[];
    evaluationPeriod: number;
  };
}
```

### デフォルト値
```typescript
const defaultTemplateData = {
  basicInfo: {
    name: '',
    category: 'new-client-acquisition' as Category,
  },
  messageStrategy: {
    mode: 'ai_auto',
    strategy: 'benefit-first',
    toneOfVoice: 'professional',
    maxLength: 400,
    useEmoji: false,
  },
  executionSettings: {
    execution_priority: 'balanced',
    preferred_method: 'form',
  },
  kpiSettings: {
    metrics: [],
    evaluationPeriod: 30,
  },
};
```

## バリデーション

### 基本情報
- テンプレート名: 必須、最大100文字
- カテゴリー: 必須
- 説明: オプション、最大500文字
- ターゲット業界: オプション
- タグ: オプション

## エラーハンドリング

### 入力エラー
- リアルタイムバリデーション
- エラーメッセージの表示
  - テンプレート名は必須です
  - カテゴリは必須です
  - テンプレート名は100文字以内で入力してください
  - 説明文は500文字以内で入力してください

### 保存エラー
- エラーメッセージ表示
- エラーログの記録

## レスポンシブ対応

### デスクトップ
- モーダルダイアログ表示（max-w-3xl）
- 最大高さ90vh
- オーバーフロー時のスクロール対応
- キーボードナビゲーション対応

### タブレット/モバイル
- フルスクリーンモーダル
- タッチ操作最適化 