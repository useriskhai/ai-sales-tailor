# 企業検索追加ダイアログ

## 画面概要
外部データベースから企業を検索し、システムに追加するためのダイアログ画面。業界名や企業名で検索し、該当する企業を選択して追加できます。

## 画面レイアウト
```
+--------------------------------------------------+
|                                                  |
| 企業を検索して追加                      [×] 閉じる |
+--------------------------------------------------+
|                                                  |
| 企業を検索して追加                               |
| 追加したい企業の業界名を入力して検索できます         |
|                                                  |
| +----------------------------------------------+ |
| | 業界名を入力... (例: IT、製造業、小売、教育、医療など) |
| +----------------------------------------------+ |
|                                          [検索]  |
|                                                  |
| ℹ️ 具体的な業界名を入力すると、より正確な結果が得られます。|
| ��複数の業界をカンマ区切りで入力することもできます。    |
+--------------------------------------------------+
|                                                  |
|              検索結果一覧                         |
| +----------------------------------------------+ |
| | 企業名                                        |
| | 業界                                         |
| | 所在地                                       |
| | 企業規模                                     |
| +----------------------------------------------+ |
|                                                  |
|                                                  |
+--------------------------------------------------+
```

## インタラクティブ要素

### 1. 検索フォーム
- **入力フィールド**:
  - プレースホルダーテキスト
  - オートコンプリート機能
  - 入力履歴の表示
  - 入力候補のサジェスト

### 2. 検索ボタン
- **機能**:
  - クリックで検索実行
  - Enter キーでも検索実行
  - 検索中はローディング表示
  - 無効な入力時は非活性

### 3. 検索結果
- **表示項目**:
  - 企業名
  - 業界
  - 所在地
  - 企業規模
  - 追加ステータス（未追加/追加済み）

- **操作**:
  - クリックで詳細���報表示
  - チェックボックスで選択
  - 一括追加機能
  - ソート機能

## データモデル

### 検索パラメータ
```typescript
interface SearchParams {
  query: string;
  industries: string[];
  page: number;
  limit: number;
  filters?: {
    location?: string;
    size?: 'small' | 'medium' | 'large';
    type?: string[];
  };
}
```

### 検索結果
```typescript
interface SearchResult {
  companies: {
    name: string;
    industry: string;
    location: string;
    size: string;
    website: string;
    isAdded: boolean;
    metadata: {
      source: string;
      confidence: number;
      last_updated: Date;
    };
  }[];
  total: number;
  page: number;
  hasMore: boolean;
}
```

## バリデーション

### 検索入力
- 最小1文字以上
- 最大100文字まで
- 特殊文字のエスケープ
- カンマ区切りの正規化

## エラーハンドリング

### 検索エラー
- **ネットワークエラー**:
  - 再試行オプション
  - オフライン時の通知
  - キャッシュデータの利用

- **結果なし**:
  - 代替検索語の提案
  - フィルター条件の緩和提案
  - 手動入力への誘導

### データ追加エラー
- 重複企業の警告
- 必須情報の不足通知
- 追加失敗時の再試行

## データ管理

### 1. キャッシュ
- 検索結果のキャッシュ
- 入力履歴の保存
- よく使う業界名の記憶

### 2. 追加処理
- バックグラウンド処理
- 進捗表示
- 一括処理の最適化

## レスポンシブ対応

### デスクトップ
- モーダルダイアログ表示
- キーボードショートカット
- 高度な検索オプション

### タブレット/モバイル
- フルスクリーンモーダル
- タッチ操作の最適化
- 簡略化された検索オプション 