# 送信タスク詳細画面

## 画面概要
個別の送信タスクの詳細情報と送信状況を表示・管理する画面。送信内容の確認、送信状況のモニタリング、エラー対応が可能。

## 画面レイアウト
```
+--------------------------------------------------+
|                    ヘッダー                        |
| < 一覧に戻る                                      |
| 送信タスク詳細                                    |
| タスクID: queue-1                                |
+--------------------------------------------------+
|                アクションボタン                     |
| [再送信(Enter)]  [キャンセル(Esc)]               |
| [エラー詳細(E)]  [送信ログ(L)]                    |
+--------------------------------------------------+
|                                    +-------------+
|      送信内容                      | 会社情報      |
| +--------------------------------+ |             |
| | [送信内容プレビュー]            | | 会社名      |
| |                                | | 従業員数     |
| | ※実際の送信フォーマットで表示    | | メール      |
| | ※添付ファイルの確認可能         | | 電話番号     |
| |                                | | 住所        |
| | [プレビューを更新]              | |             |
| |                                | | 事業内容     |
| |                                | |             |
| |                                | | [サイトを開く] |
| +--------------------------------+ +-------------+
|                                    |             |
| 送信ログ                          | タスク情報    |
| +--------------------------------+ | ステータス    |
| | [ログ履歴表示エリア]            | | 送信方法     |
| |                                | | 予定時刻     |
| | ※送信試行履歴                  | | 開始時刻     |
| | ※エラーメッセージ              | | 完了時刻     |
| | ※レスポンス内容                | | 試行回数     |
| +--------------------------------+ +-------------+
+--------------------------------------------------+
```

## インタラクティブ要素

### 1. アクションボタン
- **再送信 (Enter)**
  - ホットキー: Enter
  - 確認ダイアログ表示：
    ```
    送信の再実行
    ----------------------------------------
    送信方法:
    [○] DM
    [○] フォーム
    
    ※内容は前回と同じものが送信されます
    ----------------------------------------
    [キャンセル] [送信する]
    ```
  - 選択した送信方法で再送信を実行

- **キャンセル (Esc)**
  - ホットキー: Esc
  - 送信タスクのキャンセル
  - キャンセル理由の記録
  - 後続タスクの調整

- **エラー詳細 (E)**
  - ホットキー: E
  - エラー詳細モーダル表示
  - トラブルシューティングガイド
  - 解決手順の提案

- **送信ログ (L)**
  - ホットキー: L
  - 詳細ログモーダル表示
  - フィルタリング機能
  - エクスポート機能

### 2. 送信内容プレビュー
- **表示機能**:
  - 実際の送信フォーマット（読み取り専用）
  - 添付ファイル一覧
  - 送信済み/送信予定の内容を表示

### 3. 会社情報パネル
- **表示項目**:
  - 会社名
  - 従業員数
  - 連絡先情報
  - 事業内容
  - Webサイトリンク

- **インタラクション**:
  - 情報のコピー機能
  - サイトを新タブで開く
  - 地図表示（住所クリック）

### 4. タスク情報パネル
- **表示項目**:
  - ステータス（送信待機/送信中/完了/エラー/キャンセル）
  - 送信方法（DM/フォーム）
  - 予定時刻
  - 開始時刻
  - 完了時刻
  - 試行回数

### 5. 送信ログ
- **機能**:
  - 送信試行履歴
  - エラーメッセージ
  - レスポンス内容
  - 時系列表示
  - フィルタリング

## 状態表示

### ステータスバッジ
- **送信待機**: 灰色
- **送信中**: 青色（進行中アニメーション）
- **完了**: 緑色
- **エラー**: 赤色
- **キャンセル**: 黄色

### 送信方法アイコン
- **DM**: 封筒アイコン
- **フォーム**: フォームアイコン

## エラーハンドリング
- エラー種別の判定と表示
- リトライ戦略の提案
- 手動介入オプション
- エラーレポートの生成

## リアルタイム更新
- WebSocketによるステータス更新
- 送信進捗の表示
- エラー通知
- ログのリアルタイム追加

## レスポンシブ対応
- デスクトップ:
  - 2カラムレイアウト
  - フル機能表示

- タブレット:
  - スクロール可能なパネル
  - 最適化されたツールバー

- モバイル:
  - シングルカラム
  - 簡略化されたビュー
  - タッチ操作最適化 